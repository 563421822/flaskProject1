<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><title></title><meta name="renderer"content="webkit"><meta http-equiv="X-UA-Compatible"content="IE=edge,chrome=1"><meta name="viewport"content="width=device-width, initial-scale=1"><link href="/static/layui-v2.9.7/layui/css/layui.css"rel="stylesheet"><link href="/static/css/index/index.css"rel="stylesheet"></head><body><div class="layui-layout layui-layout-admin"><div class="layui-header"><div class="layui-logo layui-hide-xs layui-bg-black">管理系统</div><!--头部区域（可配合layui已有的水平导航）--><ul class="layui-nav layui-layout-left"><!--移动端显示--><li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm"lay-header-event="menuLeft"><i class="layui-icon layui-icon-spread-left"></i></li><li class="layui-nav-item layui-hide-xs"><a href="javascript:"></a></li><li class="layui-nav-item layui-hide-xs"><a href="javascript:"></a></li><li class="layui-nav-item layui-hide-xs"><a href="javascript:"></a></li></ul><ul class="layui-nav layui-layout-right"><li class="layui-nav-item layui-hide layui-show-sm-inline-block"><a href="javascript:"><img src="//unpkg.com/outeres@0.0.10/img/layui/icon-v2.png"class="layui-nav-img"alt="">{{session.user_info.username}}</a><dl class="layui-nav-child"><dd><a href="javascript:"lay-on="test-more-lockscreen">锁定</a></dd><dd><a href="/api/v1/users/logout">注销</a></dd></dl></li><li class="layui-nav-item"lay-header-event="menuRight"lay-unselect><a href="javascript:"><i class="layui-icon layui-icon-more-vertical"></i></a></li></ul></div><div class="layui-side layui-bg-black"><div class="layui-side-scroll"><!--左侧导航区域（可配合layui已有的垂直导航）--><ul id="sidebar"class="layui-nav layui-nav-tree"lay-filter="test"></ul></div></div><div class="layui-body"><!--内容主体区域--><div style="padding: 15px;"><blockquote class="layui-elem-quote layui-text">高校图书馆管理系统</blockquote><div class="layui-card layui-panel"><div class="layui-card-header">您的身份：{{session.user_info.role_name}}</div><div class="layui-card-body"><iframe frameborder="0"name="myIframe"src=""style="width: 100%;height: 465px"></iframe></div></div><br><br></div></div><div class="layui-footer">当前时间：<span id="currTime"></span></div></div><script src="/static/layui-v2.9.7/layui/layui.js"></script><script>layui.use(['element','layer','util'],function(){const element=layui.element;const layer=layui.layer;const util=layui.util;const $=layui.$;$.get({url:"/api/v1/menus/fetch",success:function(d){const sidebar=$("#sidebar");let html="";for(let dKey in d){if(d[dKey].parent_id==null){html+=(`<li class="layui-nav-item ${d[dKey].childNode.length > 0 ? 'layui-nav-itemed' : ''}"><a href="${d[dKey].uri}"target='myIframe'>${d[dKey].menu_name}</a>`);if(d[dKey].childNode.length>0){html+=(`<dl class="layui-nav-child">`);for(let node of d[dKey].childNode){html+=(`<dd><a href="${node.uri}"target='myIframe'>${node.menu_name}</a></dd>`)}html+=(`</dl>`)}html+=(`</li>`)}}sidebar.html(html);element.render()}});util.event('lay-header-event',{menuLeft:function(othis){layer.msg('展开左侧菜单的操作',{icon:0})},menuRight:function(){layer.open({type:1,title:'更多',content:'<div style="padding: 15px;">处理右侧面板的操作</div>',area:['260px','100%'],offset:'rt',anim:'slideLeft',shadeClose:true,scrollbar:false})}});util.on('lay-on',{'test-more-lockscreen':function(){layer.open({type:1,title:false,closeBtn:false,area:['100%','100%'],scrollbar:false,anim:-1,isOutAnim:false,id:'ID-layer-demo-inst',skin:'class-demo-layer-lockscreen',content:['<div class="layui-form"><div class="layui-input-wrap"><input type="password" class="class-demo-layer-pin" lay-affix="eye"><div class="layui-input-suffix"><i class="layui-icon layui-icon-right" id="ID-layer-demo-unlock"></i></div></div><div>\u60A8\u7684\u8D26\u6237\u5DF2\u88AB\u9501\u5B9A\uFF0C\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801</div></div>'].join(''),success:function(layero,index){const input=layero.find('input');const PASS='111111';input.focus();const elemUnlock=layero.find('#ID-layer-demo-unlock');let alertIndex;elemUnlock.on('click',function(){if($.trim(input[0].value)===PASS){layer.close(index);layer.closeLast('dialog')}else{alertIndex=layer.alert('\u5BC6\u7801\u8F93\u5165\u9519\u8BEF',{skin:'layui-layer-win10',shade:0.01,title:'\u9519\u8BEF',icon:2});input.focus()}});input.on('keyup',function(e){const elem=this;const keyCode=e.keyCode;if(keyCode===13){if(alertIndex){layer.close(alertIndex);alertIndex=undefined}else{const indexList=layer.getFrameIndex();elemUnlock.trigger('click')}}})}})}});setInterval(function(){const currentDate=new Date();const formattedDate=currentDate.toLocaleString();$("#currTime").text(formattedDate)},1000)});</script></body></html>